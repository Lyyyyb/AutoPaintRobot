- 步进电机每一步的步长计算
  - 连轴器半径*步进电机每一步的步距角（转化为弧度制\*PI/180）
- 精确的坐标转换
  - 雷达到直线模组
  - 雷达到夹爪
  - 测出XYZ的偏移量
- Z轴丝杠上下运动一个来回 ？？？？ 从下位机再搞一个指令好了，专门设置成 上下运动一个来回
  - 测出Z轴可运动部分模组长度
  - 算出Z轴运动的步数
- 假设一个雷达数据和一个IMU数据，使车可以按设想的运动并且直线模组也可以正常动（按程序的流程可以正常跑）
  - 假设树在车的45度方向  感觉不好测试车 那只测试滑台 假设一开始就正对树，
- 先把喷爪有关的指令注释掉
- 如何一步一步有序执行 下位机执行完一步后（一次直线差补运动完成）得通过串口向上位机发一个OK，上位机接收到这个指令后再进行下一步 不然乱套了
- 坐标 单位m 欧拉角 单位rad 弧度

- 临时修改
- 车转向角度先设为0 不用转
- 先把喷爪有关的指令注释掉

- 修改
  - 前进和后退的阈值应该是不一样的
  - 下位机（履带车和直线模组 都要回OK） 主要修改对象 要不然上位机没法工作
    - 履带车 三相无刷电机 看看
    - 直线模组 好搞
  - 新建一个串口指令 用于Z轴丝杠上下运动一个来回

- 测试
  - 先模拟一个最简单的情况 可以测试 但是只有前面两步
    - 车正对树（不用转）第一个阶段
    - 控制X轴直线滑台移动合适距离正对树（主要测试对象）（张开喷爪）第二个阶段
    - 控制车前进合适距离（设置合适的阈值使车正好不用动）使喷爪靠近树 第三个阶段
    - 喷爪闭合，控制Z轴丝杠，使Y轴丝杠上下运动，同时控制水泵喷水，喷涂结束，喷爪张开 （主要测试是否可以上下运动）第四个阶段
    - 控制车后退合适距离（设置合适的阈值使车正好不用动） 使喷爪离开树 第五个阶段
    - 控制喷爪闭合（第六个阶段）
    - 开始导航（第七个阶段）

- 状态量的修改 应修改全局的变量
- 600mm行程
- 导程75mm
- 1.8/32=0.05625
- 360
- 75/360*005625 = 0.0117mm
- 一些变量的修改
- main函数 导航到刷树的状态切换
- 加入水泵 和 读取电机转速判断停止